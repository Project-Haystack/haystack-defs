//
// Copyright (c) 2019, Project-Haystack
// Licensed under the Academic Free License version 3.0
//
// History:
//   24 Apr 2019  Brian Frank  Creation
//

--------------------------------------------------------------------------
def: ^aspect
docTaxonomy
doc:
  Aspects model a relationship between two definitions.

  There are two subtypes of aspects:
     - `choice`: a relationship to exactly one def
     - `trait`: a relationship to zero or more defs
--------------------------------------------------------------------------
def: ^choice
is: [^aspect, ^symbol]
doc: "Choice specifies an aspect with an single exclusive value"
--------------------------------------------------------------------------
def: ^trait
is: [^aspect, ^list]
of: ^symbol
doc: "Trait specifies a relationship between a def to zero or more defs"
--------------------------------------------------------------------------
def: ^reciprocalOf
is: ^symbol
doc: "Specifies the inverse of a trait relationship"
--------------------------------------------------------------------------
def: ^is
is: ^trait
tagOn: ^def
doc:
  Defines one or more supertypes of a subtyping relationship.
  See `docHaystack::Subtyping`
--------------------------------------------------------------------------

//////////////////////////////////////////////////////////////////////////
// Tags/TagOn
//////////////////////////////////////////////////////////////////////////

--------------------------------------------------------------------------
def: ^tagOn
is: ^trait
tagOn: ^def
reciprocalOf: ^tags
doc: "This tag is used on the given entity"
--------------------------------------------------------------------------
def: ^tags
is: ^trait
reciprocalOf: ^tagOn
computed
docSection
doc: "Tags used with this entity"
--------------------------------------------------------------------------

//////////////////////////////////////////////////////////////////////////
// Mixins/MixinOn
//////////////////////////////////////////////////////////////////////////

--------------------------------------------------------------------------
def: ^mixinOn
is: ^trait
tagOn: ^def
reciprocalOf: ^mixins
doc:
  Optional set of definitions to add to an entity.
  Mixins provide a mechanism of inclusive subtyping.
--------------------------------------------------------------------------
def: ^mixins
is: ^trait
reciprocalOf: ^mixinOn
computed
docSection
doc: "Mixins available to add to this entity"
--------------------------------------------------------------------------

//////////////////////////////////////////////////////////////////////////
// Contains/ContainedBy
//////////////////////////////////////////////////////////////////////////

--------------------------------------------------------------------------
def: ^containedBy
is: ^trait
tagOn: ^def
reciprocalOf: ^contains
doc:
  This entity is logically contained by the given entity. This
  trait is applied to ref tags that reference a parent entity.
--------------------------------------------------------------------------
def: ^contains
is: ^trait
reciprocalOf: ^containedBy
computed
transitive
doc: "Entities logically contained by this entity"
--------------------------------------------------------------------------

